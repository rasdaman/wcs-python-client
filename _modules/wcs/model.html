<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>wcs.model &#8212; WCS Python Client 0.2.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../_static/documentation_options.js?v=cb850272"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for wcs.model</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Classes holding information about coverages on a WCS server.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># postpone evaluations of type annotations</span>
<span class="c1"># https://stackoverflow.com/a/33533514</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">textwrap</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Optional</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">parse_qs</span><span class="p">,</span> <span class="n">urlparse</span>

<div class="viewcode-block" id="BoundType">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.BoundType">[docs]</a>
<span class="n">BoundType</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">datetime</span><span class="p">]</span></div>

<span class="sd">&quot;&quot;&quot;Type for axis interval bounds.&quot;&quot;&quot;</span>


<span class="nd">@dataclass</span>
<div class="viewcode-block" id="BasicCoverage">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.BasicCoverage">[docs]</a>
<span class="k">class</span> <span class="nc">BasicCoverage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Holds basic coverage information extracted from the WCS GetCapabilities</span>
<span class="sd">    document, notably the WGS bounding box if provided.</span>

<span class="sd">    :param name: the coverage name.</span>
<span class="sd">    :param subtype: coverage subtype, e.g. &#39;ReferenceableGridCoverage&#39;</span>
<span class="sd">    :param bbox: bounding box in native CRS</span>
<span class="sd">    :param lon_lat: a tuple of longitude / latitude axes respresenting the</span>
<span class="sd">        WGS84 bounding box of the coverage</span>
<span class="sd">    :param size_bytes: coverage size in bytes; None if not reported by the server</span>
<span class="sd">    :param additional_params: additional key/value parameters</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                 <span class="n">subtype</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">bbox</span><span class="p">:</span> <span class="n">BoundingBox</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">lon_lat</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Axis</span><span class="p">,</span> <span class="n">Axis</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">size_bytes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">additional_params</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<div class="viewcode-block" id="BasicCoverage.name">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.BasicCoverage.name">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;Coverage name&quot;&quot;&quot;</span>
<div class="viewcode-block" id="BasicCoverage.subtype">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.BasicCoverage.subtype">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">subtype</span> <span class="o">=</span> <span class="n">subtype</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;Coverage subtype, e.g. ReferenceableGridCoverage&quot;&quot;&quot;</span>
<div class="viewcode-block" id="BasicCoverage.bbox">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.BasicCoverage.bbox">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox</span> <span class="o">=</span> <span class="n">bbox</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;Bounding box of all coverage axes in native CRS&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lon</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lat</span> <span class="o">=</span> <span class="n">lon_lat</span> <span class="ow">or</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Longitude / Latitude axes describing the WGS84 bounding box of the coverage&quot;&quot;&quot;</span>
<div class="viewcode-block" id="BasicCoverage.size_bytes">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.BasicCoverage.size_bytes">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_bytes</span> <span class="o">=</span> <span class="n">size_bytes</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;Coverage size in bytes; None if not reported by the server&quot;&quot;&quot;</span>
<div class="viewcode-block" id="BasicCoverage.additional_params">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.BasicCoverage.additional_params">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">additional_params</span> <span class="o">=</span> <span class="n">additional_params</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;A dictionary of additional key/value parameters if reported by the server&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subtype</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">  subtype: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">subtype</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lon</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">  WGS84 bbox:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">lon</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">lat</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size_bytes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">  size in bytes: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">size_bytes</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">additional_params</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">additional_params</span> <span class="o">=</span> <span class="n">_dict_to_yaml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">additional_params</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">  additional params:</span><span class="se">\n</span><span class="si">{</span><span class="n">additional_params</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

<div class="viewcode-block" id="BasicCoverage.is_local">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.BasicCoverage.is_local">[docs]</a>
    <span class="k">def</span> <span class="nf">is_local</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: True if the coverage is local on the server, False if it&#39;s remote.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;--&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span></div>


<div class="viewcode-block" id="BasicCoverage.is_remote">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.BasicCoverage.is_remote">[docs]</a>
    <span class="k">def</span> <span class="nf">is_remote</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: True if the coverage is not local on the server, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">()</span></div>
</div>



<span class="nd">@dataclass</span>
<div class="viewcode-block" id="FullCoverage">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.FullCoverage">[docs]</a>
<span class="k">class</span> <span class="nc">FullCoverage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Holds full coverage information extracted from the WCS DescribeCoverage.</span>

<span class="sd">    :param name: the coverage name.</span>
<span class="sd">    :param bbox: bounding box in native CRS</span>
<span class="sd">    :param grid_bbox: grid bounding box</span>
<span class="sd">    :param range_type: coverage range type</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                 <span class="n">bbox</span><span class="p">:</span> <span class="n">BoundingBox</span><span class="p">,</span>
                 <span class="n">grid_bbox</span><span class="p">:</span> <span class="n">BoundingBox</span><span class="p">,</span>
                 <span class="n">range_type</span><span class="p">:</span> <span class="n">RangeType</span><span class="p">,</span>
                 <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<div class="viewcode-block" id="FullCoverage.name">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.FullCoverage.name">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span></div>

<div class="viewcode-block" id="FullCoverage.bbox">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.FullCoverage.bbox">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox</span> <span class="o">=</span> <span class="n">bbox</span></div>

<div class="viewcode-block" id="FullCoverage.grid_bbox">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.FullCoverage.grid_bbox">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_bbox</span> <span class="o">=</span> <span class="n">grid_bbox</span></div>

<div class="viewcode-block" id="FullCoverage.range_type">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.FullCoverage.range_type">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">range_type</span> <span class="o">=</span> <span class="n">range_type</span></div>

<div class="viewcode-block" id="FullCoverage.metadata">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.FullCoverage.metadata">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span> <span class="ow">or</span> <span class="p">{}</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid_bbox</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grid_bbox</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">range_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">range_type</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">metadata</span> <span class="o">=</span> <span class="n">_dict_to_yaml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
            <span class="n">metadata</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">indent</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">  metadata:</span><span class="se">\n</span><span class="si">{</span><span class="n">metadata</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

<div class="viewcode-block" id="FullCoverage.is_local">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.FullCoverage.is_local">[docs]</a>
    <span class="k">def</span> <span class="nf">is_local</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: True if the coverage is local on the server, False if it&#39;s remote.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;--&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span></div>


<div class="viewcode-block" id="FullCoverage.is_remote">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.FullCoverage.is_remote">[docs]</a>
    <span class="k">def</span> <span class="nf">is_remote</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: True if the coverage is not local on the server, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">()</span></div>
</div>



<span class="nd">@dataclass</span>
<div class="viewcode-block" id="Axis">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis">[docs]</a>
<span class="k">class</span> <span class="nc">Axis</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An axis with a name, low/upper bounds, a CRS, uom, resolution, coefficients.</span>

<span class="sd">    A subset of the coefficients (axis coordinates) can be retrieved with the [] operator,</span>
<span class="sd">    e.g. for an irregular temporal axis: axis[&quot;2024-01-01&quot; : &quot;2024-01-31&quot;].</span>
<span class="sd">    See :meth:`__getitem__` for more details.</span>

<span class="sd">    :param name: Name of the axis.</span>
<span class="sd">    :param low: Lower bound of the axis.</span>
<span class="sd">    :param high: Upper bound of the axis.</span>
<span class="sd">    :param crs: Coordinate Reference System, e.g., &quot;EPSG:4326&quot;.</span>
<span class="sd">    :param uom: Unit of measure, e.g., &quot;degree&quot;.</span>
<span class="sd">    :param resolution: Axis resolution, for regular axes.</span>
<span class="sd">    :param coefficients: Axis coefficients for irregular axes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Axis.name">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis.name">[docs]</a>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span></div>

<div class="viewcode-block" id="Axis.low">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis.low">[docs]</a>
    <span class="n">low</span><span class="p">:</span> <span class="n">BoundType</span></div>

<div class="viewcode-block" id="Axis.high">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis.high">[docs]</a>
    <span class="n">high</span><span class="p">:</span> <span class="n">BoundType</span></div>

<div class="viewcode-block" id="Axis.crs">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis.crs">[docs]</a>
    <span class="n">crs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Axis.uom">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis.uom">[docs]</a>
    <span class="n">uom</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Axis.resolution">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis.resolution">[docs]</a>
    <span class="n">resolution</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BoundType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Axis.coefficients">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis.coefficients">[docs]</a>
    <span class="n">coefficients</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">BoundType</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">indent</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">    &#39;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">:&#39;</span>
        <span class="n">indent</span> <span class="o">+=</span> <span class="s1">&#39;  &#39;</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">low: </span><span class="si">{</span><span class="n">_bound_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">low</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">high: </span><span class="si">{</span><span class="n">_bound_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">high</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">crs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">crs: </span><span class="si">{</span><span class="n">Crs</span><span class="o">.</span><span class="n">to_short_notation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">uom</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">uom: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uom</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">resolution: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="si">}</span><span class="s1">&#39;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">type: regular&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefficients</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">type: irregular&#39;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefficients</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">coefficients</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">_bound_to_str</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefficients</span><span class="p">])</span>
            <span class="n">coefficients</span> <span class="o">=</span> <span class="s1">&#39;[&#39;</span> <span class="o">+</span> <span class="n">coefficients</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span>
            <span class="n">offset</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="s1">&#39;      coefficients: [&#39;</span><span class="p">)</span>
            <span class="n">coefficients</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">coefficients</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">initial_indent</span><span class="o">=</span><span class="n">offset</span><span class="p">,</span>
                                         <span class="n">subsequent_indent</span><span class="o">=</span><span class="n">offset</span><span class="p">,</span> <span class="n">break_long_words</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="c1"># remove the initial_indent which was added only to make sure the table width is consistent</span>
            <span class="n">coefficients</span> <span class="o">=</span> <span class="n">coefficients</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">coefficients: </span><span class="si">{</span><span class="n">coefficients</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

<div class="viewcode-block" id="Axis.is_temporal">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis.is_temporal">[docs]</a>
    <span class="k">def</span> <span class="nf">is_temporal</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns: True if this axis is a temporal axis (e.g. ansi), False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">low</span><span class="p">,</span> <span class="n">datetime</span><span class="p">)</span></div>


<div class="viewcode-block" id="Axis.is_spatial">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis.is_spatial">[docs]</a>
    <span class="k">def</span> <span class="nf">is_spatial</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns: True if this axis is a spatial axis (e.g. Lat, Lon, E, N), False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_temporal</span><span class="p">()</span></div>


<div class="viewcode-block" id="Axis.is_irregular">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis.is_irregular">[docs]</a>
    <span class="k">def</span> <span class="nf">is_irregular</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns: True if this axis is an irregular axis, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefficients</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coefficients</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span></div>


<div class="viewcode-block" id="Axis.is_regular">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis.is_regular">[docs]</a>
    <span class="k">def</span> <span class="nf">is_regular</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns: True if this axis is a regular axis, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span></div>


    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">BoundType</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        - If :attr:`coefficients` is not None, then they are subsetted according to ``item``</span>
<span class="sd">        - Otherwise, a list of coefficients is generated according to the :attr:`resolution`,</span>
<span class="sd">          between the start and stop provided by the item slice.</span>

<span class="sd">        :param item: must be a :class:`slice` object with a start and stop set;</span>
<span class="sd">            the step is ignored. The start and stop must be valid coordinates in the</span>
<span class="sd">            axis :attr:`crs` and within the :attr:`low` / :attr:`high` bounds of this object.</span>

<span class="sd">        :raises WCSClientException:</span>
<span class="sd">            - if :attr:`coefficients` and :attr:`resolution` are both None.</span>
<span class="sd">            - if ``item`` is not a slice object</span>
<span class="sd">            - if the start / stop of ``item`` are invalid coordinates</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">WCSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid coordinates provided for operator [] &quot;</span>
                                     <span class="sa">f</span><span class="s2">&quot;on axis </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">, expected a slice of the form start:stop.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">stop</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No upper limit provided for operator [] on axis </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="n">temporal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_temporal</span><span class="p">()</span>
        <span class="n">regular</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_regular</span><span class="p">()</span>
        <span class="n">irregular</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_irregular</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">regular</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">irregular</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;operator [] is inapplicable to axis </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
                                     <span class="sa">f</span><span class="s2">&quot;without a resolution or coefficients.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">temporal</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">irregular</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">WCSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;operator [] is inapplicable to regular &quot;</span>
                                     <span class="sa">f</span><span class="s2">&quot;temporal axis </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="n">start</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">start</span>
        <span class="n">stop</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">stop</span>

        <span class="c1"># parse string datetime to datetimes if needed, and make sure all datetime have the same tzinfo</span>
        <span class="k">if</span> <span class="n">temporal</span><span class="p">:</span>
            <span class="n">tz</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefficients</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tzinfo</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">datetime</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">WCSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type of start coordinate provided for operator [] &quot;</span>
                                         <span class="sa">f</span><span class="s2">&quot;on axis </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">, expected either a string or a datetime.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stop</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">stop</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="n">stop</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">tz</span><span class="p">)</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stop</span><span class="p">,</span> <span class="n">datetime</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">WCSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type of stop coordinate provided for operator [] &quot;</span>
                                         <span class="sa">f</span><span class="s2">&quot;on axis </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">, expected either a string or a datetime.&quot;</span><span class="p">)</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">tz</span><span class="p">)</span>
            <span class="n">stop</span> <span class="o">=</span> <span class="n">stop</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">tz</span><span class="p">)</span>

        <span class="n">coefficients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_coefficients</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">coefficients</span> <span class="k">if</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">c</span> <span class="o">&lt;=</span> <span class="n">stop</span><span class="p">]</span>

<div class="viewcode-block" id="Axis.get_coefficients">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Axis.get_coefficients">[docs]</a>
    <span class="k">def</span> <span class="nf">get_coefficients</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">BoundType</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: a list of coefficients, automatically generated if this</span>
<span class="sd">            is a regular axis.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_irregular</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefficients</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_regular</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">WCSClientException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> is not a regular or irregular &quot;</span>
                                     <span class="sa">f</span><span class="s2">&quot;axis, cannot calculate coefficients.&quot;</span><span class="p">)</span>

        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">current</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">low</span>
        <span class="k">while</span> <span class="n">current</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">high</span><span class="p">:</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current</span><span class="p">)</span>
            <span class="n">current</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span>
        <span class="k">return</span> <span class="n">ret</span></div>
</div>



<span class="nd">@dataclass</span>
<div class="viewcode-block" id="BoundingBox">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.BoundingBox">[docs]</a>
<span class="k">class</span> <span class="nc">BoundingBox</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The bounding box of a coverage, containing low/high limits of all its axes.</span>

<span class="sd">    The axes can be accessed through the :attr:`axes` attribute, or through</span>
<span class="sd">    the subscript operator, e.g.</span>

<span class="sd">    .. code:: python</span>

<span class="sd">        bbox[1]      # get the second axis</span>
<span class="sd">        bbox[&#39;Lat&#39;]  # get the axis with name Lat</span>

<span class="sd">    :param crs: native CRS of the axis coordinates</span>
<span class="sd">    :param axes: a list of :class:`Axis` objects</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Axis</span><span class="p">],</span> <span class="n">crs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<div class="viewcode-block" id="BoundingBox.axes">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.BoundingBox.axes">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span></div>

<div class="viewcode-block" id="BoundingBox.crs">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.BoundingBox.crs">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="n">crs</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">bbox_type</span> <span class="o">=</span> <span class="s1">&#39;grid_bbox&#39;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">crs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;  crs: </span><span class="si">{</span><span class="n">Crs</span><span class="o">.</span><span class="n">to_short_notation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">bbox_type</span> <span class="o">=</span> <span class="s1">&#39;bbox&#39;</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">bbox_type</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">_list_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Axis</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the :class:`Axis` object from the :attr:`axes` list</span>
<span class="sd">        according to the specified ``index``. The ``index`` can be an</span>
<span class="sd">        axis name, or an index of the axes list.</span>
<span class="sd">        :raise KeyError: if the axis name is not found, the axis index</span>
<span class="sd">            is out of bounds, or the ``index`` is not an int or string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">axis</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">index</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">axis</span>

            <span class="n">axis_names</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">axis</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">])</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Axis &#39;</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&#39; not found in the BoundingBox axes: </span><span class="si">{</span><span class="n">axis_names</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Axis index has an invalid type </span><span class="si">{</span><span class="n">index</span><span class="o">.</span><span class="vm">__class__</span><span class="si">}</span><span class="s2">,&quot;</span>
                       <span class="sa">f</span><span class="s2">&quot;expected a string or int.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the :class:`Axis` object from the :attr:`axes` list</span>
<span class="sd">        according to the specified ``item``. The ``item`` can be an</span>
<span class="sd">        axis name, or an index of the axes list.</span>
<span class="sd">        :raise KeyError: if the axis name is not found, the axis index</span>
<span class="sd">            is out of bounds, or the ``item`` is not an int or string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></div>



<span class="nd">@dataclass</span>
<div class="viewcode-block" id="RangeType">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.RangeType">[docs]</a>
<span class="k">class</span> <span class="nc">RangeType</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the range type of a coverage, indicating the structure of the data.</span>

<span class="sd">    The range type consists of a list of field types (:class:`Field`).</span>
<span class="sd">    The fields can be accessed through the :attr:`fields` attribute, or through</span>
<span class="sd">    the subscript operator, e.g.</span>

<span class="sd">    .. code:: python</span>

<span class="sd">        range_type[1]      # get the second field</span>
<span class="sd">        range_type[&#39;blue&#39;]  # get the field with name blue</span>

<span class="sd">    :param fields: A list of :class:`Field` objects describing the fields (also</span>
<span class="sd">                   known as bands or channels) of a coverage.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fields</span><span class="p">):</span>
<div class="viewcode-block" id="RangeType.fields">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.RangeType.fields">[docs]</a>
        <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Field</span><span class="p">]</span> <span class="o">=</span> <span class="n">fields</span></div>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A list of :class:`Field` objects corresponding to the bands of the coverage.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="n">_list_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;  range_type:</span><span class="si">{</span><span class="n">fields</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Field</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the :class:`Field` object from the :attr:`fields` list</span>
<span class="sd">        according to the specified ``index``. The ``index`` can be a</span>
<span class="sd">        field (band) name, or an index of the fields list.</span>
<span class="sd">        :raise KeyError: if the field name is not found, the fields index</span>
<span class="sd">            is out of bounds, or the ``index`` is not an int or string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">index</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">field</span>

            <span class="n">names</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">field</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="p">])</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Field &#39;</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&#39; not found in the RangeType fields: </span><span class="si">{</span><span class="n">names</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Field index has an invalid type </span><span class="si">{</span><span class="n">index</span><span class="o">.</span><span class="vm">__class__</span><span class="si">}</span><span class="s2">,&quot;</span>
                       <span class="sa">f</span><span class="s2">&quot;expected a string or int.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the :class:`Field` object from the :attr:`fields` list</span>
<span class="sd">        according to the specified ``item``. The ``item`` can be a</span>
<span class="sd">        field (band) name, or an index of the fields list.</span>
<span class="sd">        :raise KeyError: if the field name is not found, the fields index</span>
<span class="sd">            is out of bounds, or the ``item`` is not an int or string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></div>



<span class="nd">@dataclass</span>
<div class="viewcode-block" id="Field">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Field">[docs]</a>
<span class="k">class</span> <span class="nc">Field</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A field (also known as band, or channel) in a coverage range type (:class:`RangeType`)</span>

<span class="sd">    It can be either a quantity or a category. It includes information about the</span>
<span class="sd">    field&#39;s name, definition, label, description, codespace (only Category),</span>
<span class="sd">    unit of measure (only Quantity), and any nil values.</span>

<span class="sd">    :param name: The name of the field. This can be used to subset bands in</span>
<span class="sd">        WCS GetCoverage requests or WCPS queries.</span>
<span class="sd">    :param is_quantity: Indicates whether this field is a Quantity (:code:`True`)</span>
<span class="sd">        or a Category (:code:`False`). Defaults to :code:`True`.</span>
<span class="sd">    :param definition: A URI that can be resolved to the complete human-readable</span>
<span class="sd">        definition of the property that is represented by the data component.</span>
<span class="sd">    :param label: Short human-readable information about the data component.</span>
<span class="sd">    :param description: A human-readable description of the data.</span>
<span class="sd">    :param codespace: A URL to an external dictionary, taxonomy, or ontology</span>
<span class="sd">        representing the code space. This attribute is only set for category data,</span>
<span class="sd">        i.e., when :attr:`is_quantity` is :code:`False`.</span>
<span class="sd">    :param uom: The unit of measure for this data.</span>
<span class="sd">    :param nil_values: A list of nil values associated with this field.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Field.name">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Field.name">[docs]</a>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Field name that can be used to subset bands in WCS GetCoverage or WCPS queries.&quot;&quot;&quot;</span>
<div class="viewcode-block" id="Field.is_quantity">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Field.is_quantity">[docs]</a>
    <span class="n">is_quantity</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;True if this field is a Quantity, False if it&#39;s a Category.&quot;&quot;&quot;</span>
<div class="viewcode-block" id="Field.definition">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Field.definition">[docs]</a>
    <span class="n">definition</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;A URI that can be resolved to the complete human readable definition of the</span>
<span class="sd">    property that is represented by the data component.&quot;&quot;&quot;</span>
<div class="viewcode-block" id="Field.label">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Field.label">[docs]</a>
    <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Short human readable information about the data component.&quot;&quot;&quot;</span>
<div class="viewcode-block" id="Field.description">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Field.description">[docs]</a>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Human-readable description of the data.&quot;&quot;&quot;</span>
<div class="viewcode-block" id="Field.codespace">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Field.codespace">[docs]</a>
    <span class="n">codespace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    URL to an external dictionary, taxonomy or ontology representing the code space.</span>
<span class="sd">    Only set for category data, i.e. :attr:`is_quantity` is False.&quot;&quot;&quot;</span>
<div class="viewcode-block" id="Field.uom">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Field.uom">[docs]</a>
    <span class="n">uom</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;Unit of measure for this data.&quot;&quot;&quot;</span>
<div class="viewcode-block" id="Field.nil_values">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Field.nil_values">[docs]</a>
    <span class="n">nil_values</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">NilValue</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;A list of nil values.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">indent</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">    &#39;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">:&#39;</span>
        <span class="n">indent</span> <span class="o">+=</span> <span class="s1">&#39;  &#39;</span>
        <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">type: &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;Quantity&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_quantity</span> <span class="k">else</span> <span class="s1">&#39;Category&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">label: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">description: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">definition</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">definition: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">definition</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nil_values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nil_values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">nil_values: </span><span class="si">{</span><span class="n">_list_to_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nil_values</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">codespace</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">codespace: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">codespace</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">uom</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s1">uom: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uom</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">ret</span></div>



<span class="nd">@dataclass</span>
<div class="viewcode-block" id="NilValue">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.NilValue">[docs]</a>
<span class="k">class</span> <span class="nc">NilValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a null value with an optional reason.</span>

<span class="sd">    :param nil_value: The null value itself, represented as a string.</span>
<span class="sd">    :param reason: An optional explanation for why the value is null.</span>
<span class="sd">        This is useful for providing context or documentation about the null</span>
<span class="sd">        value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="NilValue.nil_value">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.NilValue.nil_value">[docs]</a>
    <span class="n">nil_value</span><span class="p">:</span> <span class="nb">str</span></div>

<div class="viewcode-block" id="NilValue.reason">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.NilValue.reason">[docs]</a>
    <span class="n">reason</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></div>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nil_value</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reason</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">reason</span>
        <span class="k">return</span> <span class="n">ret</span></div>



<div class="viewcode-block" id="Crs">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Crs">[docs]</a>
<span class="k">class</span> <span class="nc">Crs</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Utility class for handling CRS.&quot;&quot;&quot;</span>

    <span class="nd">@staticmethod</span>
<div class="viewcode-block" id="Crs.to_short_notation">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.Crs.to_short_notation">[docs]</a>
    <span class="k">def</span> <span class="nf">to_short_notation</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parse CRS identifiers in `this notation</span>
<span class="sd">        &lt;https://doc.rasdaman.org/05_geo-services-guide.html#crs-notation&gt;`_.</span>

<span class="sd">        :param url: a CRS identifier, e.g.</span>

<span class="sd">            - http://localhost:8080/rasdaman/def/crs/EPSG/0/4326</span>
<span class="sd">            - EPSG/0/4326</span>
<span class="sd">            - EPSG:4326</span>

<span class="sd">        :return: Short CRS notation, e.g. EPSG:4326; None if input is None or the method</span>
<span class="sd">            fails to parse the url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="c1"># handle &quot;EPSG:4326&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="s1">&#39;/&#39;</span> <span class="ow">in</span> <span class="n">url</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">url</span>

        <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">parsed_url</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>

        <span class="c1"># compound urls, e.g. &quot;https://www.opengis.net/def/crs-compound?1=...&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;/crs-compound&#39;</span> <span class="ow">in</span> <span class="n">url</span><span class="p">:</span>
            <span class="n">query_params</span> <span class="o">=</span> <span class="n">parse_qs</span><span class="p">(</span><span class="n">parsed_url</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">query_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">subcrs</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                    <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Crs</span><span class="o">.</span><span class="n">to_short_notation</span><span class="p">(</span><span class="n">subcrs</span><span class="p">))</span>
            <span class="k">return</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>

        <span class="c1"># url == &quot;https://www.opengis.net/def/crs/EPSG/0/4326&quot;</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">authority</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
            <span class="n">version</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">code</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">version</span> <span class="o">==</span> <span class="s2">&quot;0&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">authority</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">authority</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s1">&#39;</span>

        <span class="k">return</span> <span class="kc">None</span></div>
</div>



<div class="viewcode-block" id="WCSClientException">
<a class="viewcode-back" href="../../autoapi/wcs/model/index.html#wcs.model.WCSClientException">[docs]</a>
<span class="k">class</span> <span class="nc">WCSClientException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An exception thrown by this library.</span>
<span class="sd">    &quot;&quot;&quot;</span></div>



<span class="k">def</span> <span class="nf">_bound_to_str</span><span class="p">(</span><span class="n">bound</span><span class="p">:</span> <span class="n">BoundType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert an interval bound to its string representation.</span>

<span class="sd">    If the bound is a `datetime` object, the function formats</span>
<span class="sd">    it as an ISO 8601 string, potentially simplifying the format if the time</span>
<span class="sd">    components are zero. All other types are converted to strings directly.</span>

<span class="sd">    :param bound: The interval bound to convert.</span>

<span class="sd">    :return: A string representation of the bound. For `datetime` objects, the</span>
<span class="sd">             string is enquoted and formatted according to ISO 8601.</span>

<span class="sd">    :meta private:</span>

<span class="sd">    .. note::</span>
<span class="sd">        This function is intended for internal use within modules where interval</span>
<span class="sd">        bounds need to be serialized to strings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bound</span><span class="p">,</span> <span class="n">datetime</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">bound</span><span class="o">.</span><span class="n">hour</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">bound</span><span class="o">.</span><span class="n">minute</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">bound</span><span class="o">.</span><span class="n">second</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="n">bound</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="n">bound</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
        <span class="k">return</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">ret</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>

    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">bound</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_list_to_str</span><span class="p">(</span><span class="n">lst</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">sep</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a list of items into a single string. Each item is converted to a string</span>
<span class="sd">    and separated by a specified separator in the result.</span>

<span class="sd">    :param lst: The list of items to be joined into a string. Each item in the list</span>
<span class="sd">                will be converted to a string before joining.</span>
<span class="sd">    :param sep: The separator to use between each item in the resulting string.</span>

<span class="sd">    :return: A single string containing all items from the list, separated by the</span>
<span class="sd">             specified separator.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">])</span>


<span class="n">_SPECIAL_CHARS_PATTERN</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s:</span><span class="si">{}</span><span class="s1">\[\]()*&amp;|&gt;&lt;#%@,?</span><span class="se">\\</span><span class="s1">=!]&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_dict_to_yaml</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a nested Python dictionary to a YAML-formatted string.</span>

<span class="sd">    This function recursively traverses a Python dictionary, including any nested</span>
<span class="sd">    dictionaries and lists, and formats it into a YAML string. The resulting string</span>
<span class="sd">    maintains the hierarchical structure of the input dictionary, with appropriate</span>
<span class="sd">    indentation for nested elements.</span>

<span class="sd">    :param d: The dictionary to be converted into YAML format. It can contain nested</span>
<span class="sd">              dictionaries and lists.</span>
<span class="sd">    :param indent: The current level of indentation. This parameter is used</span>
<span class="sd">                   internally by the function for recursive calls to manage</span>
<span class="sd">                   indentation. Default is 0.</span>

<span class="sd">    :return: A string representing the input dictionary in YAML format.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">yaml_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># quote the key if needed</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">c</span> <span class="ow">in</span> <span class="n">key</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="s1">&#39; </span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span> <span class="ow">or</span> \
            <span class="n">_SPECIAL_CHARS_PATTERN</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">or</span> \
            <span class="nb">any</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">32</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">key</span><span class="p">)</span> <span class="ow">or</span> \
            <span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
            <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">key</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">yaml_str</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">indent</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;:</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">_dict_to_yaml</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">indent</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">yaml_str</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">indent</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">yaml_str</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">indent</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;- &quot;</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="n">yaml_str</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">_dict_to_yaml</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">indent</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">yaml_str</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">yaml_str</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">indent</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">yaml_str</span>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">WCS Python Client</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../README.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#examples">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#contributing">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#acknowledgments">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../autoapi/index.html">API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, rasdaman team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
    </div>

    

    
  </body>
</html>